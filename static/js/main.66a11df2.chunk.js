(this["webpackJsonpcv-project"]=this["webpackJsonpcv-project"]||[]).push([[0],{21:function(e,t,n){},22:function(e,t,n){"use strict";n.r(t);var a=n(2),r=n(3),i=n(5),c=n(4),o=n(1),s=n.n(o),u=n(13),l=n.n(u),p=n.p+"static/media/\u0441onstructor.1cdd9342.png",j=n(0),b=function(e){Object(i.a)(n,e);var t=Object(c.a)(n);function n(){return Object(a.a)(this,n),t.apply(this,arguments)}return Object(r.a)(n,[{key:"render",value:function(){return Object(j.jsx)("header",{children:Object(j.jsxs)("div",{className:"container",children:[Object(j.jsx)("img",{src:p,alt:""}),Object(j.jsx)("h1",{children:"CV \u0421onstructor"})]})})}}]),n}(s.a.Component),h=(s.a.Component,n(6)),d=n(9),f=n(14),v=n(7),O=n.n(v),m=function(e){Object(i.a)(n,e);var t=Object(c.a)(n);function n(e){var r;return Object(a.a)(this,n),(r=t.call(this,e)).uniqIndex=O()(),r.parentScope=e.scope,r.objName=e.array[0],r.state={isValidValue:!0,defaultValue:e.array[1].value,isActive:!!e.array[1].value,backgroundPosition:"200% 100%, 100% 100%",queue:[]},r}return Object(r.a)(n,[{key:"componentDidMount",value:function(){if(!this.parentScope.readonly){var e=document.getElementById(this.uniqIndex);this.discoverAnimation(e)}}},{key:"afterBlur",value:function(e){var t=this;e.blur(),e.value.length?this.setState({isValidValue:!0,isActive:!0}):(e.offsetParent.className="error",e.blur(),this.setState({isValidValue:!1,isActive:!1})),this.discoverAnimation(e).then((function(){return t.setState((function(e){return{queue:e.queue.slice(0,-1)}}))})).then((function(){return t.state.queue[t.state.queue.length-1]&&t.state.queue[t.state.queue.length-1].func(),t})).then((function(){return t.setState({defaultValue:e.value})}))}},{key:"afterFocus",value:function(e){var t=this;e.focus();var n=this.state.isValidValue?"active":"afterError";e.offsetParent.className=n,this.discoverAnimation(e).then((function(){return e.offsetParent.className="active"})).then((function(){return t.setState((function(e){return{queue:e.queue.slice(0,-1)}}))})).then((function(){t.state.queue[t.state.queue.length-1]&&t.state.queue[t.state.queue.length-1].func()}))}},{key:"discoverAnimation",value:function(e){var t=this;return Promise.all(e.getAnimations().map((function(e){return e.finished}))).then((function(){var n=getComputedStyle(e).backgroundPosition;e.style.backgroundPosition=n,t.state.backgroundPosition!==n&&t.setState({backgroundPosition:n})})).catch((function(){return null}))}},{key:"componentDidUpdate",value:function(e,t){var n=this;if(e.array[1].value!==this.props.array[1].value&&this.parentScope.readonly)this.setState({defaultValue:this.props.array[1].value});else if(!this.parentScope.readonly)if(t.defaultValue!==this.state.defaultValue)this.parentScope.props.subObj[this.objName].value=this.state.defaultValue,this.parentScope.props.scope.setState(this.parentScope.props.obj);else if(e.array[1].value!==this.props.array[1].value)new Promise((function(e){e(n.setState({defaultValue:n.props.array[1].value}))})).then((function(){return n.setState({isActive:!!n.props.array[1].value})})).then((function(){var e=document.getElementById(n.uniqIndex);e.offsetParent.className="afterActive",n.discoverAnimation(e)}));else if(void 0!==this.parentScope.props.isRemoved){var a=this.parentScope.props.scope.state.removedElements.findIndex((function(e){return e.objName===n.objName}));if(-1!==a){var r=Object(d.a)(this.parentScope.props.scope.state.removedElements),i=r.splice(a,1)[0];new Promise((function(e){n.parentScope.props.scope.setState({removedElements:r}),e(n.parentScope.props.scope)})).then((function(){return n.setState(i.state)}))}}}},{key:"shouldComponentUpdate",value:function(e,t){return this.state.defaultValue!==t.defaultValue||e.array[1].value!==this.state.defaultValue||void 0!==this.parentScope.props.isRemoved}},{key:"workWithQueue",value:function(e){var t=this;this.state.queue.find((function(t){return t.name===e.name}))||new Promise((function(n){n(t.setState((function(t){return{queue:[e].concat(t.queue)}})))})).then((function(){1===t.state.queue.length&&t.state.queue[t.state.queue.length-1].func()}))}},{key:"componentWillUnmount",value:function(){var e={objName:this.objName,state:this.state};this.parentScope.readonly||this.parentScope.props.scope.setState((function(t){return{removedElements:[].concat(Object(d.a)(t.removedElements),[e])}}))}},{key:"render",value:function(){var e=this.parentScope.readonly?"":this.state.isActive?"active":this.state.isValidValue?"":"error";return Object(j.jsxs)("li",{className:e,children:[Object(j.jsx)("label",{htmlFor:this.uniqIndex,children:this.objName}),this.props.elem.call(this,this)]},O()())}}]),n}(s.a.Component);function y(e){var t=e;return function(){var e=this,n=this.parentScope,a=this.uniqIndex;return n.readonly?Object(j.jsx)("input",{type:t,value:this.state.defaultValue,readOnly:!0,style:{backgroundPosition:this.state.backgroundPosition}},O()()):Object(j.jsx)("input",{type:t,defaultValue:this.state.defaultValue,id:a,style:{backgroundPosition:this.state.backgroundPosition},onFocus:function(t){var n={name:"afterFocus",func:e.afterFocus.bind(e,t.target)};e.workWithQueue(n)},onBlur:function(t){var n={name:"afterBlur",func:e.afterBlur.bind(e,t.target)};e.workWithQueue(n)}},O()())}}function x(e){var t=e;return function(){var e=this;return this.parentScope.readonly?Object(j.jsx)("textarea",{type:t,value:this.state.defaultValue,readOnly:!0,style:{backgroundPosition:this.state.backgroundPosition}},O()()):Object(j.jsx)("textarea",{type:t,defaultValue:this.state.defaultValue,style:{backgroundPosition:this.state.backgroundPosition},id:this.uniqIndex,onFocus:function(t){var n={name:"afterFocus",func:e.afterFocus.bind(e,t.target)};e.workWithQueue(n)},onBlur:function(t){var n={name:"afterBlur",func:e.afterBlur.bind(e,t.target)};e.workWithQueue(n)}},O()())}}function S(e){var t=e,n=[],a="";function r(){var e,t=[],r=a,i=r.toLowerCase(),c=Object(f.a)(n);try{for(c.s();!(e=c.n()).done;){var o=e.value.name,s=o.toLowerCase();r.length>2&&s.includes(i)&&r!==o&&t.push({name:o})}}catch(u){c.e(u)}finally{c.f()}return t}function i(e){var t=this;a=e.target.value;var n=c("cityName","li");r().forEach((function(e,r){var i=document.createElement("li");i.textContent=e.name,i.key=r,n.append(i),i.addEventListener("mousedown",(function(e){a=e.target.textContent,new Promise((function(n){t.setState({defaultValue:e.target.textContent,isValidValue:!0}),n(t)})).then((function(){return c("cityName","li")}))}))}))}function c(e,t){var n=document.getElementById(e);return n.querySelectorAll(t).forEach((function(e){return e.remove()})),n}function o(e){a=e.target.textContent,this.setState({defaultValue:e.target.textContent})}return fetch("https://restcountries.eu/rest/v2/all",{mode:"cors"}).then((function(e){return e.json()})).then((function(e){return n=e})),function(){var e=this,n=this.parentScope,c=this.uniqIndex;return n.readonly?Object(j.jsx)("input",{type:t,value:this.state.defaultValue,readOnly:!0,style:{backgroundPosition:this.state.backgroundPosition}},O()()):Object(j.jsxs)("div",{children:[Object(j.jsx)("input",{type:t,style:{backgroundPosition:this.state.backgroundPosition},onChange:i.bind(this),onFocus:function(t){var n={name:"afterFocus",func:e.afterFocus.bind(e,t.target)};e.workWithQueue(n)},onBlur:function(t){var n={name:"afterBlur",func:e.afterBlur.bind(e,t.target)};e.workWithQueue(n)},defaultValue:a,id:c,list:"cityName"},O()()),Object(j.jsx)("ul",{id:"cityName",children:r().map((function(t,n){return Object(j.jsx)("li",{onMouseDown:o.bind(e),children:t.name},n)}))})]})}}var k=function(e){Object(i.a)(n,e);var t=Object(c.a)(n);function n(e){var r;return Object(a.a)(this,n),(r=t.call(this,e)).scope=r.props.scope,r.collectionInputElements=Object.values(e.subObj).map((function(e){return"object"===typeof e?e.inputElem():null})),r}return Object(r.a)(n,[{key:"reduceArray",value:function(e){var t=Object(d.a)(this.state.idHtmlWithError);t.splice(e,1),this.setState({idHtmlWithError:t})}},{key:"componentDidUpdate",value:function(){for(var e=[],t=0,n=Object.values(this.props.subObj);t<n.length;t++){var a=n[t];"object"===typeof a&&e.push(a)}var r=e.every((function(e){return""!==e.value}));this.props.subObj.isValid=!!r}},{key:"render",value:function(){var e=this;return Object(j.jsx)("ul",{children:Object.entries(this.props.subObj).map((function(t,n){return"object"===typeof t[1]?Object(j.jsx)(m,{scope:e,array:t,elem:e.collectionInputElements[n]}):null}))})}}]),n}(s.a.Component),g=function(e){Object(i.a)(n,e);var t=Object(c.a)(n);function n(e){var r;return Object(a.a)(this,n),(r=t.call(this,e)).parentScope=e.parentScope,r.personalInfo=r.parentScope.state.generalInfo,r}return Object(r.a)(n,[{key:"render",value:function(){var e=this.parentScope.state;return Object(j.jsxs)("div",{children:[Object(j.jsx)("h2",{children:"Personal information"}),Object(j.jsx)(k,{subObj:e.generalInfo,obj:e,scope:this.parentScope})]})}}]),n}(s.a.Component),E=function(e){Object(i.a)(n,e);var t=Object(c.a)(n);function n(e){var r;return Object(a.a)(this,n),(r=t.call(this,e)).parentScope=e.parentScope,r.url=void 0,r}return Object(r.a)(n,[{key:"onFileSelected",value:function(e){var t=this,n=e.target.files[0];if(void 0!==n){var a=new FileReader,r=document.querySelector(".photo");a.onload=function(e){t.url=e.target.result,r.style.backgroundImage="url(".concat(t.url,")"),t.addPropertyInState()},a.readAsDataURL(n)}}},{key:"componentDidMount",value:function(){this.addPropertyInState()}},{key:"addPropertyInState",value:function(){var e=this.parentScope.state.generalInfo;e.Avatar=this.url,this.parentScope.setState({generalInfo:e})}},{key:"render",value:function(){return Object(j.jsx)("div",{className:"photo",children:Object(j.jsx)("label",{children:Object(j.jsx)("input",{type:"file",onChange:this.onFileSelected.bind(this)})})})}}]),n}(s.a.Component),P=function(e){Object(i.a)(n,e);var t=Object(c.a)(n);function n(){return Object(a.a)(this,n),t.apply(this,arguments)}return Object(r.a)(n,[{key:"render",value:function(){var e=this;return Object(j.jsx)("input",{type:"button",value:this.props.value,onClick:function(){return e.props.func()}})}}]),n}(s.a.Component),C=function(e){Object(i.a)(n,e);var t=Object(c.a)(n);function n(){return Object(a.a)(this,n),t.apply(this,arguments)}return Object(r.a)(n,[{key:"render",value:function(){return Object(j.jsx)("div",{className:"buttons",children:this.props.btns.map((function(e,t){return Object(j.jsx)(P,{type:"button",value:e.value,func:e.func},t)}))})}}]),n}(s.a.Component),V=n(11);var I=function e(t){var n={},a=function(a){Array.isArray(t[a])?(n[a]=[],t[a].forEach((function(t){return n[a].push(e(t))}))):"object"!==typeof t[a]?n[a]=t[a]:n[a]=e(t[a])};for(var r in t)a(r);return n};var q=function(e,t){t.setState(e)};function N(e){var t=Object.entries(e),n=t[0][1],a=t[1]?t[1][1]:null,r=[];for(var i in n)"object"===typeof n[i]&&r.push(n[i]);return{arrayOfKeysAndValues:t,objectWithProps:n,arrayWithObjects:a,check:r.every((function(e){return""!==e.value}))}}function A(e){var t=this,n=N(e),a=n.arrayOfKeysAndValues,r=n.objectWithProps,i=n.arrayWithObjects;if(n.check){i.push(r);var c=a[0][0],o=a[1][0];new Promise((function(e){var n;t.setState((n={},Object(V.a)(n,c,I(t.defaultState)),Object(V.a)(n,o,i),n)),e(t)}))}}function w(e,t){var n=N(e),a=n.objectWithProps,r=n.arrayWithObjects,i=n.check,c=r.find((function(e){return!1===e.isValid}));if(i&&!c){r.push(a);var o=Object(V.a)({},t,e);q(o,this.commonParentScope)}}function B(){N(this.state).check&&q(this.state,this.commonParentScope)}function D(e){Object.values(e)[1].splice(-1,1),this.setState(e),this.setState(e)}var W=function(e,t){return Object.values(this.state)[1]?Object.values(this.state)[1].length?[{value:"Add information",func:w.bind(this,e,t)},{value:" + ",func:A.bind(this,e)},{value:" \u2212 ",func:D.bind(this,e)}]:[{value:"Add information",func:w.bind(this,e,t)},{value:" + ",func:A.bind(this,e)}]:[{value:"Add information",func:B.bind(this)}]},F=function(e){Object(i.a)(n,e);var t=Object(c.a)(n);function n(e){var r;return Object(a.a)(this,n),(r=t.call(this,e)).state={generalInfo:{Name:{value:"",inputElem:y.bind(Object(h.a)(r),"text")},Email:{value:"",inputElem:y.bind(Object(h.a)(r),"text")},Phone:{value:"",inputElem:y.bind(Object(h.a)(r),"text")},Country:{value:"",inputElem:S.bind(Object(h.a)(r),"text")},isValid:!0}},r.parentScope=e.parentScope(),r.commonParentScope=r.parentScope.commonParentScope,r}return Object(r.a)(n,[{key:"componentDidMount",value:function(){this.parentScope.setState(this.state)}},{key:"render",value:function(){var e=W.call(this,"generalInfo");return Object(j.jsx)("section",{children:Object(j.jsxs)("form",{children:[Object(j.jsxs)("div",{className:"infoBlocks",children:[Object(j.jsx)(g,{parentScope:this}),Object(j.jsx)(E,{parentScope:this})]}),Object(j.jsx)(C,{btns:e})]})})}}]),n}(s.a.Component),U=function(e){Object(i.a)(n,e);var t=Object(c.a)(n);function n(e){var r;return Object(a.a)(this,n),(r=t.call(this,e)).state={educationalExperience:{"School name":{value:"",inputElem:y.bind(Object(h.a)(r),"text")},"Title of study":{value:"",inputElem:y.bind(Object(h.a)(r),"text")},"Date of study":{value:"",inputElem:y.bind(Object(h.a)(r),"date")},isValid:!0},educationalExperienceCollection:[],removedElements:[]},r.parentScope=e.parentScope(),r.commonParentScope=r.parentScope.commonParentScope,r.defaultState=I(r.state.educationalExperience),r}return Object(r.a)(n,[{key:"componentDidMount",value:function(){this.parentScope.setState({educExp:I(this.state)})}},{key:"render",value:function(){var e=this,t=I(this.state),n=W.call(this,t,"educExp"),a=this.state.removedElements.length?Object(j.jsx)(k,{subObj:t.educationalExperience,obj:t,scope:this,isRemoved:!0}):Object(j.jsx)(k,{subObj:t.educationalExperience,obj:t,scope:this});return Object(j.jsxs)("section",{className:"expBlock",children:[Object(j.jsx)("h2",{children:"Educational experience"}),Object(j.jsx)("ul",{className:"specialStyleKit",children:t.educationalExperienceCollection.map((function(n,a){return Object(j.jsx)("li",{children:Object(j.jsx)(k,{subObj:n,obj:t,scope:e})},a)}))}),a,Object(j.jsx)(C,{btns:n})]})}}]),n}(s.a.Component),M=function(e){Object(i.a)(n,e);var t=Object(c.a)(n);function n(e){var r;return Object(a.a)(this,n),(r=t.call(this,e)).state={practicalExperience:{"Company name":{value:"",inputElem:y.bind(Object(h.a)(r),"text")},"Position title":{value:"",inputElem:y.bind(Object(h.a)(r),"text")},"Main tasks of your jobs":{value:"",inputElem:x.bind(Object(h.a)(r),"text")},From:{value:"",inputElem:y.bind(Object(h.a)(r),"date")},To:{value:"",inputElem:y.bind(Object(h.a)(r),"date")},isValid:!0},practicalExperienceCollection:[],removedElements:[]},r.parentScope=e.parentScope(),r.commonParentScope=r.parentScope.commonParentScope,r.defaultState=I(r.state.practicalExperience),r}return Object(r.a)(n,[{key:"componentDidMount",value:function(){this.parentScope.setState({practicExp:I(this.state)})}},{key:"render",value:function(){var e=this,t=I(this.state),n=W.call(this,t,"practicExp"),a=this.state.removedElements.length?Object(j.jsx)(k,{subObj:t.practicalExperience,obj:t,scope:this,isRemoved:!0}):Object(j.jsx)(k,{subObj:t.practicalExperience,obj:t,scope:this});return Object(j.jsxs)("section",{className:"expBlock",children:[Object(j.jsx)("h2",{children:"Practical experience"}),Object(j.jsx)("ul",{className:"specialStyleKit",children:t.practicalExperienceCollection.map((function(n,a){return Object(j.jsx)("li",{children:Object(j.jsx)(k,{subObj:n,obj:t,scope:e})},a)}))}),a,Object(j.jsx)(C,{btns:n})]})}}]),n}(s.a.Component),Q=function(e){Object(i.a)(n,e);var t=Object(c.a)(n);function n(e){var r;return Object(a.a)(this,n),(r=t.call(this,e)).commonParentScope=e.parentScope,r}return Object(r.a)(n,[{key:"returnParentScope",value:function(){return this}},{key:"componentDidUpdate",value:function(e,t){null===t&&this.commonParentScope.setState(I(this.state))}},{key:"render",value:function(){return Object(j.jsxs)("section",{id:"templateCV",children:[Object(j.jsx)(F,{parentScope:this.returnParentScope.bind(this)}),Object(j.jsx)(U,{parentScope:this.returnParentScope.bind(this)}),Object(j.jsx)(M,{parentScope:this.returnParentScope.bind(this)})]})}}]),n}(s.a.Component),R=function(e){Object(i.a)(n,e);var t=Object(c.a)(n);function n(e){var r;return Object(a.a)(this,n),(r=t.call(this,e)).readonly=!0,r.collectionInputElements=Object.values(e.subObj).map((function(e){if("object"===typeof e)return e.inputElem()})),r}return Object(r.a)(n,[{key:"render",value:function(){var e=this;return Object(j.jsx)("ul",{children:Object.entries(this.props.subObj).map((function(t,n){return"object"===typeof t[1]?Object(j.jsx)(m,{scope:e,array:t,elem:e.collectionInputElements[n]},n):null}))})}}]),n}(s.a.Component),K=n.p+"static/media/emptyAvatar.5320030d.jpg",L=function(e){Object(i.a)(n,e);var t=Object(c.a)(n);function n(e){var r;return Object(a.a)(this,n),(r=t.call(this,e)).state={url:K},r}return Object(r.a)(n,[{key:"componentDidUpdate",value:function(e){e!==this.props&&void 0!==this.props.obj&&this.setState({url:this.props.obj})}},{key:"render",value:function(){return Object(j.jsx)("div",{id:"photoBlock",style:{backgroundImage:"linear-gradient(rgba(68, 68, 68, 0.2), rgba(68, 68, 68, 0.2)), url(".concat(this.state.url,")")}})}}]),n}(s.a.Component),H=function(e){Object(i.a)(n,e);var t=Object(c.a)(n);function n(){return Object(a.a)(this,n),t.apply(this,arguments)}return Object(r.a)(n,[{key:"componentDidUpdate",value:function(e){e!==this.props&&this.setState(I(this.props.parentState))}},{key:"render",value:function(){return Object(j.jsxs)("section",{id:"personalInformation",children:[Object(j.jsx)(L,{obj:this.props.parentState.generalInfo.Avatar}),Object(j.jsxs)("form",{children:[Object(j.jsx)("h2",{children:"Personal information"}),Object(j.jsx)(R,{subObj:this.props.parentState.generalInfo})]})]})}}]),n}(s.a.Component),J=function(e){Object(i.a)(n,e);var t=Object(c.a)(n);function n(){return Object(a.a)(this,n),t.apply(this,arguments)}return Object(r.a)(n,[{key:"render",value:function(){return Object(j.jsx)("ul",{children:this.props.array.map((function(e,t){return Object(j.jsx)("li",{className:"expBlock",children:Object(j.jsx)(R,{subObj:e})},t)}))})}}]),n}(s.a.Component),T=function(e){Object(i.a)(n,e);var t=Object(c.a)(n);function n(e){var r;return Object(a.a)(this,n),(r=t.call(this,e)).readonly=!0,r}return Object(r.a)(n,[{key:"render",value:function(){var e=Object.entries(this.props.obj),t=e[1][1],n=e[0][1],a=t.length?Object(j.jsx)(J,{array:t}):Object(j.jsx)(R,{subObj:n});return Object(j.jsxs)("section",{children:[Object(j.jsx)("h2",{children:this.props.headline}),a]})}}]),n}(s.a.Component),z=function(e){Object(i.a)(n,e);var t=Object(c.a)(n);function n(){return Object(a.a)(this,n),t.apply(this,arguments)}return Object(r.a)(n,[{key:"componentDidMount",value:function(){this.setState(this.props.obj)}},{key:"componentDidUpdate",value:function(e){e!==this.props&&this.setState(this.props.obj)}},{key:"render",value:function(){return Object(j.jsxs)("section",{id:"commonInformation",children:[Object(j.jsx)(T,{obj:this.props.obj.educExp,headline:"Educational experience"}),Object(j.jsx)(T,{obj:this.props.obj.practicExp,headline:"Practical experience"})]})}}]),n}(s.a.Component),G=function(e){Object(i.a)(n,e);var t=Object(c.a)(n);function n(e){var r;return Object(a.a)(this,n),(r=t.call(this,e)).CommonParentScope=e.parentScope,r}return Object(r.a)(n,[{key:"componentDidUpdate",value:function(e,t){t===this.state&&this.setState(I(this.CommonParentScope.state))}},{key:"render",value:function(){return Object(j.jsxs)("section",{id:"previewCV",children:[Object(j.jsxs)("div",{children:[this.state&&Object(j.jsx)(z,{obj:this.state}),this.state&&Object(j.jsx)(H,{parentState:this.state})]}),Object(j.jsx)("input",{type:"button",value:"Print",onClick:function(){return window.print()}})]})}}]),n}(s.a.Component),X=function(e){Object(i.a)(n,e);var t=Object(c.a)(n);function n(){return Object(a.a)(this,n),t.apply(this,arguments)}return Object(r.a)(n,[{key:"render",value:function(){return Object(j.jsxs)("div",{children:[Object(j.jsx)(Q,{parentScope:this}),Object(j.jsx)(G,{parentScope:this})]})}}]),n}(s.a.Component),Y=(n(21),function(e){Object(i.a)(n,e);var t=Object(c.a)(n);function n(){return Object(a.a)(this,n),t.apply(this,arguments)}return Object(r.a)(n,[{key:"render",value:function(){return Object(j.jsxs)("div",{children:[Object(j.jsx)(b,{}),Object(j.jsx)(X,{})]})}}]),n}(s.a.Component));l.a.render(Object(j.jsx)(s.a.StrictMode,{children:Object(j.jsx)(Y,{})}),document.getElementById("root"))}},[[22,1,2]]]);
//# sourceMappingURL=main.66a11df2.chunk.js.map